<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{property.address}} | {{agent.name}}</title>
  <meta name="description" content="{{property.address}} — {{property.beds}} beds, {{property.baths}} baths, {{property.sqft}} sq ft. Listed by {{agent.name}} at {{agent.brokerage}}.">
  <link rel="canonical" href="{{agent.siteUrl}}/property.html">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- ============================================================
       NAVIGATION
       ============================================================ -->
  <nav class="nav" role="navigation" aria-label="Main navigation">
    <div class="nav__inner">
      <a href="index.html" class="nav__brand">
        <div>
          <div class="nav__brand-name">{{agent.name}}</div>
          <div class="nav__brand-title">{{agent.title}} &middot; {{agent.brokerage}}</div>
        </div>
      </a>
      <div class="nav__links">
        <a href="index.html" class="nav__link">Home</a>
        <a href="buy.html" class="nav__link">Buy</a>
        <a href="sell.html" class="nav__link">Sell</a>
        <a href="neighborhoods.html" class="nav__link">Neighborhoods</a>
        <a href="about.html" class="nav__link">About</a>
      </div>
      <div class="nav__cta">
        <a href="contact.html" class="btn btn--gold">Contact Me</a>
      </div>
      <button class="nav__toggle" aria-label="Toggle menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
    </div>
  </nav>
  <div class="nav__mobile-menu" role="navigation" aria-label="Mobile navigation">
    <a href="index.html" class="nav__mobile-link">Home</a>
    <a href="buy.html" class="nav__mobile-link">Buy</a>
    <a href="sell.html" class="nav__mobile-link">Sell</a>
    <a href="neighborhoods.html" class="nav__mobile-link">Neighborhoods</a>
    <a href="about.html" class="nav__mobile-link">About</a>
    <a href="contact.html" class="nav__mobile-link btn btn--primary" style="text-align:center; margin-top: 1rem;">Contact Me</a>
  </div>


  <!-- ============================================================
       PROPERTY GALLERY
       ============================================================ -->
  <section class="property-hero" style="padding-top: var(--nav-height);">
    <div class="property-gallery" id="property-gallery">
      <img
        id="gallery-main-img"
        src="{{property.photos[0]}}"
        alt="{{property.address}} — Main photo"
        loading="eager">

      <div class="property-gallery__thumbs" role="list" aria-label="Property photos">
        {{#each property.photos}}
        <div class="property-gallery__thumb {{#if @first}}active{{/if}}" role="listitem" tabindex="0" data-src="{{this}}" data-alt="{{../property.address}} — Photo {{@index}}" aria-label="View photo {{math @index '+' 1}}">
          <img src="{{this}}" alt="" loading="lazy">
        </div>
        {{/each}}
      </div>
    </div>
  </section>


  <!-- ============================================================
       PROPERTY CONTENT LAYOUT
       ============================================================ -->
  <div class="container">
    <div class="property-layout">

      <!-- Main Content -->
      <div class="property-main">
        <!-- Info Panel -->
        <div class="glass-card glass-card--static property-info-panel reveal">
          <div style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-4);">
            <span class="listing-card__badge listing-card__badge--{{property.status}}">{{property.status}}</span>
            <span style="font-size: var(--text-sm); color: var(--text-secondary);">MLS# {{property.mlsNumber}}</span>
          </div>
          <div class="property-info-panel__price">{{property.price}}</div>
          <div class="property-info-panel__address">{{property.address}}</div>
          <div class="property-info-panel__stats">
            <div class="property-info-panel__stat">
              <div class="property-info-panel__stat-value">{{property.beds}}</div>
              <div class="property-info-panel__stat-label">Bedrooms</div>
            </div>
            <div class="property-info-panel__stat">
              <div class="property-info-panel__stat-value">{{property.baths}}</div>
              <div class="property-info-panel__stat-label">Bathrooms</div>
            </div>
            <div class="property-info-panel__stat">
              <div class="property-info-panel__stat-value">{{property.sqft}}</div>
              <div class="property-info-panel__stat-label">Sq Ft</div>
            </div>
          </div>
          <div class="property-info-panel__meta">
            <span>Listed by {{agent.brokerage}}</span>
          </div>
        </div>

        <!-- Description -->
        <div class="reveal" style="margin-top: var(--space-10);">
          <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-4);">About This Property</h2>
          <p style="color: var(--text-secondary); line-height: var(--leading-relaxed);">
            {{property.description}}
          </p>
        </div>

        <!-- Features -->
        <div class="property-features reveal">
          <h3 style="font-size: var(--text-xl); margin-bottom: var(--space-4);">Property Features</h3>
          <div class="property-features__grid">
            {{#each property.features}}
            <div class="property-features__item">
              <span class="property-features__icon">&#10003;</span>
              <span>{{this}}</span>
            </div>
            {{/each}}
          </div>
        </div>

        <!-- Map -->
        <div class="reveal" style="margin-top: var(--space-10);">
          <h3 style="font-size: var(--text-xl); margin-bottom: var(--space-4);">Location</h3>
          <div class="map-embed">
            {{property.mapEmbed}}
          </div>
        </div>

        <!-- Similar Listings -->
        <div class="reveal" style="margin-top: var(--space-16);">
          <h3 style="font-size: var(--text-2xl); margin-bottom: var(--space-6);">Similar Properties</h3>
          <div class="listings-grid" style="grid-template-columns: repeat(3, 1fr);">
            {{#each property.similarListings}}
            <div class="listing-card">
              <div class="listing-card__image">
                <img src="{{this.photos[0]}}" alt="{{this.address}}" loading="lazy">
                <span class="listing-card__badge listing-card__badge--{{this.status}}">{{this.status}}</span>
              </div>
              <div class="listing-card__body">
                <div class="listing-card__price">{{this.price}}</div>
                <div class="listing-card__address">{{this.address}}</div>
                <div class="listing-card__meta">
                  <span>{{this.beds}} Beds</span>
                  <span>{{this.baths}} Baths</span>
                  <span>{{this.sqft}} Sq Ft</span>
                </div>
                <a href="property.html?id={{this.id}}" class="listing-card__link">View Details &rarr;</a>
              </div>
            </div>
            {{/each}}
          </div>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="property-sidebar">
        <!-- Agent Mini Card -->
        <div class="glass-card glass-card--static agent-mini-card reveal">
          <div class="agent-mini-card__photo">
            <img src="{{agent.photo}}" alt="{{agent.name}}">
          </div>
          <div class="agent-mini-card__name">{{agent.name}}</div>
          <div class="agent-mini-card__contact">
            <a href="tel:{{agent.phone}}">{{agent.phone}}</a>
            <a href="mailto:{{agent.email}}">{{agent.email}}</a>
          </div>

          <!-- Schedule a Showing Form -->
          <h4 style="font-size: var(--text-base); margin-bottom: var(--space-4);">Schedule a Showing</h4>
          <form data-validate>
            <div class="form-group">
              <input type="text" class="form-input" name="name" placeholder="Your Name" required>
              <span class="form-error"></span>
            </div>
            <div class="form-group">
              <input type="email" class="form-input" name="email" placeholder="Email" required>
              <span class="form-error"></span>
            </div>
            <div class="form-group">
              <input type="tel" class="form-input" name="phone" placeholder="Phone" required>
              <span class="form-error"></span>
            </div>
            <div class="form-group">
              <textarea class="form-textarea" name="message" placeholder="I'd like to schedule a showing for this property..." rows="3"></textarea>
            </div>
            <button type="submit" class="btn btn--primary" style="width: 100%;">
              <span class="btn__text">Request Showing</span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>


  <!-- ============================================================
       FLOATING CTA
       ============================================================ -->
  <div class="floating-cta">
    <div class="floating-cta__form" role="dialog" aria-label="Quick contact form">
      <div class="floating-cta__form-header">
        <span class="floating-cta__form-title">Get in Touch</span>
        <button class="floating-cta__form-close" aria-label="Close">&times;</button>
      </div>
      <form data-validate>
        <div class="form-group">
          <input type="text" class="form-input" name="name" placeholder="Your Name" required>
          <span class="form-error"></span>
        </div>
        <div class="form-group">
          <input type="email" class="form-input" name="email" placeholder="Email Address" required>
          <span class="form-error"></span>
        </div>
        <div class="form-group">
          <input type="tel" class="form-input" name="phone" placeholder="Phone Number">
          <span class="form-error"></span>
        </div>
        <button type="submit" class="btn btn--primary" style="width: 100%;">
          <span class="btn__text">Send Message</span>
        </button>
      </form>
    </div>
    <button class="floating-cta__btn" aria-label="Open contact form"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg></button>
  </div>


  <!-- ============================================================
       EXIT INTENT MODAL
       ============================================================ -->
  <div id="exit-intent-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-label="Before you leave">
    <div class="modal" style="position: relative;">
      <button class="modal__close" aria-label="Close">&times;</button>
      <div class="modal__photo">
        <img src="{{agent.photo}}" alt="{{agent.name}}">
      </div>
      <h3 class="modal__title">Before You Go...</h3>
      <p class="modal__subtitle">Interested in this property or similar homes? Let me keep you updated.</p>
      <form data-validate style="max-width: 360px; margin: 0 auto;">
        <div class="form-group">
          <input type="email" class="form-input" name="email" placeholder="Enter your email" required>
          <span class="form-error"></span>
        </div>
        <button type="submit" class="btn btn--primary" style="width: 100%;">
          <span class="btn__text">Send Me Listings</span>
        </button>
      </form>
    </div>
  </div>


  <!-- ============================================================
       FOOTER
       ============================================================ -->
  <footer class="footer">
    <div class="container">
      <div class="footer__grid">
        <div>
          <div class="footer__brand">{{agent.name}}</div>
          <p class="footer__desc">{{agent.title}} at {{agent.brokerage}}. Helping buyers and sellers navigate real estate with confidence.</p>
          <div class="footer__social">
            <a href="{{agent.facebook}}" class="social-link" aria-label="Facebook" target="_blank" rel="noopener"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg></a>
            <a href="{{agent.instagram}}" class="social-link" aria-label="Instagram" target="_blank" rel="noopener"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg></a>
            <a href="{{agent.linkedin}}" class="social-link" aria-label="LinkedIn" target="_blank" rel="noopener"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a>
          </div>
        </div>
        <div>
          <div class="footer__heading">Quick Links</div>
          <a href="index.html" class="footer__link">Home</a>
          <a href="buy.html" class="footer__link">Buy</a>
          <a href="sell.html" class="footer__link">Sell</a>
          <a href="neighborhoods.html" class="footer__link">Neighborhoods</a>
          <a href="about.html" class="footer__link">About</a>
          <a href="contact.html" class="footer__link">Contact</a>
        </div>
        <div>
          <div class="footer__heading">Contact</div>
          <div class="footer__contact-item"><svg class="footer__contact-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg> {{agent.phone}}</div>
          <div class="footer__contact-item"><svg class="footer__contact-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg> {{agent.email}}</div>
          <div class="footer__contact-item"><svg class="footer__contact-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg> {{agent.address}}</div>
        </div>
      </div>
      <p class="footer__disclaimer">{{agent.footerDisclaimer}}</p>
      <div class="footer__bottom">
        <span>&copy; {{currentYear}} {{agent.name}}. All rights reserved.</span>
        <span>Powered by Terminus</span>
      </div>
    </div>
  </footer>

  <script src="main.js"></script>
</body>
</html>
